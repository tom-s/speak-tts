!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){"use strict";t.r(n);var o=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i,i=function(e){return"string"==typeof e||e instanceof String},a=function(e){return e&&Array.isArray(e)&&e.length?e.length:0},r=function(e){return"number"==typeof e&&isNaN(e)},s=function(e){return null==e},c=function(e){return i(e)?e.trim():""},u=function(){return/(iPhone|iPad|iPod)/.test(navigator.platform)},l=function(e){var n=["Maged","Zuzana","Sara","Anna","Melina","Karen","Samantha","Daniel","Rishi","Moira","Tessa","Mónica","Paulina","Satu","Amélie","Thomas","Carmit","Lekha","Mariska","Damayanti","Alice","Kyoko","Yuna","Ellen","Xander","Nora","Zosia","Luciana","Joana","Ioana","Milena","Laura","Alva","Kanya","Yelda","Tian-Tian","Sin-Ji","Mei-Jia"];return e.filter((function(e){return n.includes(e.name)}))};function h(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}var n,t,f;return n=e,(t=[{key:"init",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,o){e.browserSupport||o("Your browser does not support Speech Synthesis");var i=s(n.listeners)?{}:n.listeners,a=!!s(n.splitSentences)||n.splitSentences,r=s(n.lang)?void 0:n.lang,c=s(n.volume)?1:n.volume,h=s(n.rate)?1:n.rate,f=s(n.pitch)?1:n.pitch,p=s(n.voice)?void 0:n.voice;Object.keys(i).forEach((function(e){var n=i[e];"onvoiceschanged"!==e&&(speechSynthesis[e]=function(e){n&&n(e)})})),e._loadVoices().then((function(n){u()&&(n=l(n)),i.onvoiceschanged&&i.onvoiceschanged(n),!s(r)&&e.setLanguage(r),!s(p)&&e.setVoice(p),!s(c)&&e.setVolume(c),!s(h)&&e.setRate(h),!s(f)&&e.setPitch(f),!s(a)&&e.setSplitSentences(a),t({voices:n,lang:e.lang,voice:e.voice,volume:e.volume,rate:e.rate,pitch:e.pitch,splitSentences:e.splitSentences,browserSupport:e.browserSupport})})).catch((function(e){o(e)}))}))}},{key:"_fetchVoices",value:function(){return new Promise((function(e,n){setTimeout((function(){var t=speechSynthesis.getVoices();return a(t)>0?e(t):n("Could not fetch voices")}),100)}))}},{key:"_loadVoices",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch((function(t){if(0===n)throw t;return e._loadVoices(n-1)}))}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var n,t,o=speechSynthesis.getVoices();if(i(e)&&(n=o.find((function(n){return n.name===e}))),t=e,"[object Object]"===Object.prototype.toString.call(t)&&(n=e),!n)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=n}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),"string"!=typeof(n=e)||!o.test(n))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";var n;this.lang=e}},{key:"setVolume",value:function(e){if(e=parseFloat(e),!(!r(e)&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(e=parseFloat(e),!(!r(e)&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(e=parseFloat(e),!(!r(e)&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){if("string"!=typeof e&&Boolean(e)&&(e=".?!"),e.match(/[a-zA-Z]/g))throw"splitSentences contains invalid characters [a-zA-Z]. Set to true or false, or specify custom punctuation characters to split sentences.";this.splitSentences=e}},{key:"speak",value:function(e){var n=this;return new Promise((function(t,o){var i=e.text,r=e.listeners,u=void 0===r?{}:r,l=e.queue,h=void 0===l||l,f=c(i);s(f)&&t(),!h&&n.cancel();var p=[],d=n.splitSentences?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".?!";return n.split("").forEach((function(e){"[\\^$.|?*+()".includes(e)&&n.replace(e,"\\"+e)})),e.replace(new RegExp("(["+n+"]+)","g"),"$1|").split("|").map((function(e){return c(e)})).filter(Boolean)}(f,n.splitSentences):[f];d.forEach((function(e,i){var r=i===a(d)-1,s=new SpeechSynthesisUtterance;n.synthesisVoice&&(s.voice=n.synthesisVoice),n.lang&&(s.lang=n.lang),n.volume&&(s.volume=n.volume),n.rate&&(s.rate=n.rate),n.pitch&&(s.pitch=n.pitch),s.text=e,Array.from(new Set(Object.keys(u).concat(["onerror","onend"]))).forEach((function(e){var n=u[e];s[e]=function(i){n&&n(i),"onerror"===e&&o({utterances:p,lastUtterance:s,error:i}),"onend"===e&&r&&t({utterances:p,lastUtterance:s})}})),p.push(s),speechSynthesis.speak(s)}))}))}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}])&&h(n.prototype,t),f&&h(n,f),e}();!function(){var e=new f;e.init({volume:.5,lang:"en-GB",rate:1,pitch:1,listeners:{onvoiceschanged:function(e){console.log("Voices changed",e)}}}).then((function(n){var t,o,i;console.log("Speech is ready",n),t=n.voices,o=window.document.createElement("div"),i='<h2>Available Voices</h2><select id="languages"><option value="">autodetect language</option>',t.forEach((function(e){i+='<option value="'.concat(e.lang,'" data-name="').concat(e.name,'">').concat(e.name," (").concat(e.lang,")</option>")})),o.innerHTML=i,window.document.body.appendChild(o),function(e){var n=document.getElementById("play"),t=document.getElementById("pause"),o=document.getElementById("resume"),i=document.getElementById("text"),a=document.getElementById("languages");n.addEventListener("click",(function(){var n=a.value,t=a.options[a.selectedIndex].dataset.name;n&&e.setLanguage(a.value),t&&e.setVoice(t),e.speak({text:i.value,queue:!1,listeners:{onstart:function(){console.log("Start utterance")},onend:function(){console.log("End utterance")},onresume:function(){console.log("Resume utterance")},onboundary:function(e){console.log(e.name+" boundary reached after "+e.elapsedTime+" milliseconds.")}}}).then((function(e){console.log("Success !",e)})).catch((function(e){console.error("An error occurred :",e)}))})),t.addEventListener("click",(function(){e.pause()})),o.addEventListener("click",(function(){e.resume()}))}(e)})).catch((function(e){console.error("An error occured while initializing : ",e)}));var n=e.hasBrowserSupport()?"Hurray, your browser supports speech synthesis":"Your browser does NOT support speech synthesis. Try using Chrome of Safari instead !";document.getElementById("support").innerHTML=n}()}]);